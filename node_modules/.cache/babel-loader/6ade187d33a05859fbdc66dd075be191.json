{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from \"axios\";\nimport ElementUI from 'element-ui';\nexport default {\n  name: 'LoginPage',\n  data: function data() {\n    return {\n      individual: {\n        email: \"\",\n        password: \"\"\n      }\n    };\n  },\n  methods: {\n    check: function check() {\n      if (this.individual.email == '') {\n        alert('邮箱不能为空');\n        return false;\n      }\n\n      if (this.individual.password == '') {\n        alert('密码不能为空');\n        return false;\n      }\n\n      return true;\n    },\n    Login: function Login() {\n      if (this.check()) {\n        var pointer = this;\n        axios.post('/api/v1/auth/login', this.individual).then(function (response) {\n          console.log(response);\n\n          if (response.status == 200) {\n            localStorage.setItem('zhigui-token', response.data.data);\n            pointer.$router.push('/index');\n          } else {\n            pointer.$message(response.data.error);\n            ElementUI.Message({\n              message: response.data.message.Message\n            });\n          }\n        }).catch(function (error) {\n          console.log(error);\n        });\n      }\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAyBA;AACA;AACA;AACAA,mBADA;AAEAC,MAFA,kBAEA;AACA;AACAC;AACAC,iBADA;AAEAC;AAFA;AADA;AAMA,GATA;AAUAC;AACAC;AACA;AACAC;AACA;AACA;;AACA;AACAA;AACA;AACA;;AACA;AACA,KAXA;AAYAC;AACA;AACA;AACAC;AACAC;;AACA,sCACA;AACAC;AACAC;AACA,WAJA,MAIA;AACAA;AACAC;AACAC;AADA;AAGA;AACA,SAZA,EAaAC,KAbA,CAaA;AACAL;AACA,SAfA;AAgBA;AACA;AAhCA;AAVA","names":["name","data","individual","email","password","methods","check","alert","Login","axios","console","localStorage","pointer","ElementUI","message","catch"],"sourceRoot":"src/components","sources":["LoginPage.vue"],"sourcesContent":["<template>\r\n    <div id=\"login\">\r\n        <div class=\"Box\">\r\n            <form action=\"\">\r\n                <h4>登录</h4>\r\n                <div class=\"putin\">\r\n                    <input type=\"text\" placeholder=\"请输入邮箱\" v-model=\"individual.email\">\r\n                    <input type=\"password\" placeholder=\"请输入密码\" v-model=\"individual.password\">\r\n                </div>\r\n                <a href=\"javascript:;\" class=\"btn test\" @click=\"Login\">点击验证</a>\r\n                <div class=\"fn\">\r\n                    <label for=\"check\"><input id=\"check\" type=\"checkbox\"><span><span></span></span>记住我</label>\r\n                    <a href=\"javascript:;\">忘记密码</a>\r\n                </div>\r\n                <div class=\"reg\">\r\n                    <p>还没有账号？\r\n                        <a href=\"register.html\" class=\"register\">立即注册</a>\r\n                    </p>\r\n                </div>\r\n            </form>\r\n    </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\"\r\nimport ElementUI from 'element-ui'\r\nexport default {\r\n    name: 'LoginPage',\r\n    data() {\r\n        return {\r\n            individual: {\r\n            email: \"\",\r\n            password: \"\",\r\n        }\r\n        }\r\n    },\r\n    methods: {\r\n        check: function() {\r\n            if (this.individual.email == '') {\r\n                alert('邮箱不能为空');\r\n                return false;\r\n            }\r\n            if (this.individual.password == '') {\r\n                alert('密码不能为空');\r\n                return false;\r\n            }\r\n            return true;\r\n        },\r\n        Login: function() {\r\n        if(this.check()) {\r\n            var pointer=this\r\n            axios.post('/api/v1/auth/login',this.individual).then(function (response) {\r\n                console.log(response)\r\n                    if(response.status==200)\r\n                    {\r\n                        localStorage.setItem('zhigui-token',response.data.data)\r\n                        pointer.$router.push('/index');\r\n                    }else {\r\n                        pointer.$message(response.data.error);\r\n                        ElementUI.Message({  \r\n                        message: response.data.message.Message\r\n                        })\r\n                    }\r\n                })\r\n            .catch(function (error) {\r\n    console.log(error);\r\n  });\r\n        }\r\n    },\r\n    }\r\n    ,\r\n}\r\n</script>\r\n<style scoped>\r\n@import '../assets/css/login.css';\r\n</style>"]},"metadata":{},"sourceType":"module"}