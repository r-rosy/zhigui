{"ast":null,"code":"import \"core-js/modules/es.regexp.constructor.js\";\nimport \"core-js/modules/es.regexp.dot-all.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.regexp.sticky.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\nimport \"core-js/modules/es.regexp.test.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from \"axios\";\nimport ElementUI from 'element-ui';\nexport default {\n  name: 'RegisterPage',\n  data: function data() {\n    return {\n      individual: {\n        email: \"\",\n        nickname: \"\",\n        password: \"\",\n        password_again: \"\"\n      },\n      checkdetails: {\n        o_password: \"\",\n        submission: false\n      }\n    };\n  },\n  methods: {\n    check: function check() {\n      if (this.individual.nickname == \"\") {\n        alert('用户名不能为空');\n        return false;\n      }\n\n      if (this.individual.email == '') {\n        alert('邮箱不能为空');\n        return false;\n      }\n\n      var reg = new RegExp(\"^[a-z0-9]+([._\\\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$\"); //正则表达式\n\n      var obj = this.individual.email; //要验证的对象\n\n      if (!reg.test(obj)) {\n        //正则验证不通过，格式不对\n        alert(\"邮箱格式不正确!\");\n        return false;\n      }\n\n      if (this.individual.password == '') {\n        alert('密码不能为空');\n        return false;\n      }\n\n      if (this.individual.password != this.checkdetails.o_password) {\n        alert('两次密码不一致');\n        return false;\n      }\n\n      if (this.checkdetails.submission == false) {\n        alert('请同意注册条款');\n        return false;\n      }\n\n      return true;\n    },\n    Register: function Register() {\n      if (this.check()) {\n        this.individual.password_again = this.individual.password;\n        var pointer = this;\n        axios.post('/api/v1/auth/register', this.individual).then(function (response) {\n          if (response.status == 200) {\n            ElementUI.Message({\n              message: \"注册成功,即将跳转至登陆页面\"\n            });\n            pointer.$router.push('/login');\n          } else {\n            ElementUI.Message({\n              message: response.data.message.Message\n            });\n          }\n\n          console.log(response);\n        }).catch(function (error) {\n          console.log(error);\n        });\n      }\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA;AACA;AACA;AACAA,sBADA;AAEAC,MAFA,kBAEA;AACA;AACAC;AACAC,iBADA;AAEAC,oBAFA;AAGAC,oBAHA;AAIAC;AAJA,OADA;AAOAC;AACAC,sBADA;AAEAC;AAFA;AAPA;AAYA,GAfA;AAgBAC;AACAC;AACA;AACAC;AACA;AACA;;AACA;AACAA;AACA;AACA;;AACA,4GATA,CASA;;AACA,sCAVA,CAUA;;AACA;AAAA;AACAA;AACA;AACA;;AACA;AACAA;AACA;AACA;;AACA;AACAA;AACA;AACA;;AACA;AACAA;AACA;AACA;;AACA;AACA,KA7BA;AA8BAC;AACA;AACA;AACA;AACAC;AACA,sCACA;AACAC;AACAC;AADA;AAGAC;AACA,WANA,MAMA;AACAF;AACAC;AADA;AAGA;;AACAE;AACA,SAbA,EAcAC,KAdA,CAcA;AACAD;AACA,SAhBA;AAiBA;AACA;AApDA;AAhBA","names":["name","data","individual","email","nickname","password","password_again","checkdetails","o_password","submission","methods","check","alert","Register","axios","ElementUI","message","pointer","console","catch"],"sourceRoot":"src/components","sources":["RegisterPage.vue"],"sourcesContent":["<template>\r\n<div id=\"register\">\r\n <div class=\"Box\">\r\n        <form action=\"\">\r\n            <h4>注册|纸贵</h4>\r\n            <h3>闲来写得青山卖&nbsp;不使人间造孽钱</h3>\r\n            <div class=\"name\">\r\n                <input type=\"text\" name=\"username\" placeholder=\"请输入用户名\" maxlength=\"6\" v-model=\"individual.nickname\">\r\n            </div>\r\n            <div class=\"email\">\r\n                <input type=\"text\" name=\"email\" placeholder=\"请输入邮箱\" v-model=\"individual.email\">\r\n            </div>\r\n            <div class=\"pass\">\r\n                <input type=\"password\" placeholder=\"请输入密码\" v-model=\"individual.password\">\r\n            </div>\r\n            <div class=\"again\">\r\n                <input type=\"password\" placeholder=\"请确认密码\" name=\"pwd\" v-model=\"checkdetails.o_password\">\r\n            </div>\r\n            <a href=\"#\" class=\"btn yes\" @click=\"Register\">点击注册</a>\r\n            <div class=\"agree\">\r\n                <label for=\"check\"><input id=\"check\" type=\"checkbox\"\r\n                        checked=\"checked\" v-model=\"checkdetails.submission\"><span><span></span></span>我同意</label>\r\n                <a href=\"javascript:;\">注册条款</a>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\"\r\nimport ElementUI from 'element-ui'\r\nexport default {\r\n    name: 'RegisterPage',\r\n    data() {\r\n        return {\r\n            individual: {\r\n            email: \"\",\r\n            nickname: \"\",\r\n            password: \"\",\r\n            password_again: \"\",\r\n        },\r\n        checkdetails: {\r\n            o_password: \"\",\r\n            submission: false,\r\n        },\r\n        }\r\n    }, \r\n    methods: {\r\n        check: function() {\r\n            if (this.individual.nickname == \"\") {\r\n                alert('用户名不能为空');\r\n                return false;\r\n            }\r\n            if (this.individual.email == '') {\r\n                alert('邮箱不能为空');\r\n                return false;\r\n            }\r\n            var reg = new RegExp(\"^[a-z0-9]+([._\\\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$\"); //正则表达式\r\n            var obj = this.individual.email //要验证的对象\r\n            if(!reg.test(obj)){ //正则验证不通过，格式不对\r\n                    alert(\"邮箱格式不正确!\");\r\n                    return false;\r\n                    }\r\n            if (this.individual.password == '') {\r\n                alert('密码不能为空');\r\n                return false;\r\n            }\r\n            if (this.individual.password != this.checkdetails.o_password) {\r\n                alert('两次密码不一致');\r\n                return false;\r\n            }\r\n            if (this.checkdetails.submission == false) {\r\n                alert('请同意注册条款');\r\n                return false;\r\n            }\r\n            return true;\r\n        },\r\n    Register: function() {\r\n        if(this.check()) {\r\n            this.individual.password_again=this.individual.password\r\n            var pointer=this\r\n            axios.post('/api/v1/auth/register',this.individual).then(function (response) {\r\n                if(response.status==200)\r\n                    {\r\n                         ElementUI.Message({  \r\n                        message: \"注册成功,即将跳转至登陆页面\",\r\n                        })\r\n                        pointer.$router.push('/login');\r\n                    }else {\r\n                         ElementUI.Message({  \r\n                        message: response.data.message.Message\r\n                        })\r\n                    }\r\n                    console.log(response);\r\n                })\r\n            .catch(function (error) {\r\n    console.log(error);\r\n  });\r\n        }\r\n    },\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n@import '../assets/css/register.css';\r\n</style>"]},"metadata":{},"sourceType":"module"}